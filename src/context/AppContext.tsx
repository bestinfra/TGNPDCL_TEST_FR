import React, { createContext, useContext, useEffect, useState } from 'react';interface AppContextType {    isDarkMode: boolean;    isSidebarCollapsed: boolean;    toggleTheme: () => void;    toggleSidebar: () => void;}const AppContext = createContext<AppContextType>({    isDarkMode: false,    isSidebarCollapsed: false,    toggleTheme: () => {},    toggleSidebar: () => {},});export const AppProvider = ({ children }: { children: React.ReactNode }) => {    const [isDarkMode, setIsDarkMode] = useState(() => {        const savedTheme = localStorage.getItem('theme');        const prefersDark = window.matchMedia(            '(prefers-color-scheme: dark)'        ).matches;        return savedTheme === 'dark' || (!savedTheme && prefersDark);    });    const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(() => {        const savedState = localStorage.getItem('sidebarCollapsed');        return savedState ? JSON.parse(savedState) : false;    });    useEffect(() => {        if (isDarkMode) {            document.documentElement.classList.add('dark');            localStorage.setItem('theme', 'dark');        } else {            document.documentElement.classList.remove('dark');            localStorage.setItem('theme', 'light');        }    }, [isDarkMode]);    useEffect(() => {        localStorage.setItem(            'sidebarCollapsed',            JSON.stringify(isSidebarCollapsed)        );    }, [isSidebarCollapsed]);    const toggleTheme = () => {        setIsDarkMode((prev) => !prev);    };    const toggleSidebar = () => {        setIsSidebarCollapsed((prev: boolean) => !prev);    };    return (        <AppContext.Provider            value={{                isDarkMode,                isSidebarCollapsed,                toggleTheme,                toggleSidebar,            }}>            {children}        </AppContext.Provider>    );};export const useApp = () => {    const context = useContext(AppContext);    if (context === undefined) {        throw new Error('useApp must be used within an AppProvider');    }    return context;};